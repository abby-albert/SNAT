<html>
<head>
    <title>Snake Game</title>
    <style>
        body {
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        #game-board {
            border: 2px solid #000;
        }

        .cell {
            width: 20px;
            height: 20px;
            background-color: #00f;
        }

        #snake-head {
            background-color: #f00;
        }

        .food {
            background-color: #0f0;
        }
    </style>
</head>
<body>
    <div id="game-board"></div>

    <script>
        const gameBoard = document.getElementById("game-board");
        const gridSize = 20;
        const numRows = 15;
        const numCols = 20;
        const cellSize = 20;
        let snake = [{ x: 5, y: 5 }];
        let direction = "right";
        let food = getRandomFoodPosition();
        let score = 0;

        function createGameBoard() {
            for (let row = 0; row < numRows; row++) {
                for (let col = 0; col < numCols; col++) {
                    const cell = document.createElement("div");
                    cell.className = "cell";
                    cell.style.width = cell.style.height = cellSize + "px";
                    cell.style.top = row * cellSize + "px";
                    cell.style.left = col * cellSize + "px";
                    gameBoard.appendChild(cell);
                }
            }
        }

        function updateGameBoard() {
            const cells = document.querySelectorAll(".cell");
            cells.forEach((cell) => {
                cell.className = "cell";
            });

            snake.forEach((segment, index) => {
                const snakeSegment = document.createElement("div");
                snakeSegment.className = "cell";
                snakeSegment.style.width = snakeSegment.style.height = cellSize + "px";
                snakeSegment.style.top = segment.y * cellSize + "px";
                snakeSegment.style.left = segment.x * cellSize + "px";
                if (index === 0) {
                    snakeSegment.id = "snake-head";
                }
                gameBoard.appendChild(snakeSegment);
            });

            const foodCell = document.createElement("div");
            foodCell.className = "food";
            foodCell.style.width = foodCell.style.height = cellSize + "px";
            foodCell.style.top = food.y * cellSize + "px";
            foodCell.style.left = food.x * cellSize + "px";
            gameBoard.appendChild(foodCell);
        }

        function getRandomFoodPosition() {
            let foodX, foodY;
            do {
                foodX = Math.floor(Math.random() * numCols);
                foodY = Math.floor(Math.random() * numRows);
            } while (snake.some(segment => segment.x === foodX && segment.y === foodY));
            return { x: foodX, y: foodY };
        }

        function moveSnake() {
            const headX = snake[0].x;
            const headY = snake[0].y;
            let newHeadX, newHeadY;

            if (direction === "up") {
                newHeadX = headX;
                newHeadY = headY - 1;
            } else if (direction === "down") {
                newHeadX = headX;
                newHeadY = headY + 1;
            } else if (direction === "left") {
                newHeadX = headX - 1;
                newHeadY = headY;
            } else if (direction === "right") {
                newHeadX = headX + 1;
                newHeadY = headY;
            }

            if (newHeadX === food.x && newHeadY === food.y) {
                snake.unshift(food);
                score += 10;
                food = getRandomFoodPosition();
            } else {
                snake.pop();
                snake.unshift({ x: newHeadX, y: newHeadY });
            }
        }

        function checkCollision() {
            const headX = snake[0].x;
            const headY = snake[0].y;
            if (
                headX < 0 || headX >= numCols ||
                headY < 0 || headY >= numRows ||
                snake.slice(1).some(segment => segment.x === headX && segment.y === headY)
            ) {
                alert("Game Over! Your Score: " + score);
                resetGame();
            }
        }

        function resetGame() {
            snake = [{ x: 5, y: 5 }];
            direction = "right";
            food = getRandomFoodPosition();
            score = 0;
        }

        function handleKeyPress(event) {
            if (event.key === "ArrowUp" && direction !== "down") {
                direction = "up";
            } else if (event.key === "ArrowDown" && direction !== "up") {
                direction = "down";
            } else if (event.key === "ArrowLeft" && direction !== "right") {
                direction = "left";
            } else if (event.key === "ArrowRight" && direction !== "left") {
                direction = "right";
            }
        }

        createGameBoard();
        document.addEventListener("keydown", handleKeyPress);

        setInterval(() => {
            moveSnake();
            checkCollision();
            updateGameBoard();
        }, 100);
    </script>
</body>
</html>
